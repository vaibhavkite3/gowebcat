<html lang="en-us">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="dist/style.css">
	<script src="dist/jquery-3.3.1.min.js"></script>
</head>
	<h1>
		{{ .title }}
	</h1>

	<form method="POST">
	<label for="file">File</label>
    <input type="text" name="name" id="name" size=50>
	<label for="lines">Lines</label>
    <input type="text" name="lines" id="lines" value="10" size=5>
		<label for="filestart">Head</label>
		<input type="radio" name="viewtype" value="head">
		<label for="filestart">Tail</label>
		<input type="radio" name="viewtype" value="tail" checked>
    <input type="button" value="View" id="btn_view">

	<pre width="10" id="fdata"></pre>
</form>

<script>
//fetch by ajax
		function getData(){
			$("#fdata").text("");
			var file_name = $("#name").val();
			var num_of_lines = $("#lines").val();
			var view_type = $("input[name='viewtype']:checked").val()

				$.ajax({
						method: "POST",
						dataType: "json",
						url: "getfiledata",
						data: {filename: file_name, numberoflines: num_of_lines, viewtype: view_type},
						
						success: function(f_data) {
							
							$("#fdata").text(f_data.filedata);
        		},
						error: function(err) {
							
							$("#fdata").text(err.responseText);
						}

				});
		}

		$("#btn_view").click( function(){	
			getData();
		});

</script>
</html>