(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Cat-vue"],{"0537":function(t,e,n){},"7d52":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("br"),n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"4"}},[n("label",{attrs:{for:"logsPath"}},[t._v("Logs Path")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.logsPath,expression:"logsPath"}],staticClass:"form-control",attrs:{id:"id_extension"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.logsPath=e.target.multiple?n:n[0]},t.getFileList]}},t._l(t.lps,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)]),n("b-col",{attrs:{cols:"2"}},[n("label",{attrs:{for:"logsPath"}},[t._v("Extension")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.extension,expression:"extension"}],staticClass:"form-control",attrs:{id:"id_extension"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.extension=e.target.multiple?n:n[0]},t.getFileList]}},t._l(t.extns,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)]),n("b-col",{attrs:{cols:"2"}},[n("label",{attrs:{for:"modtime"}},[t._v("Modified Time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.modifiedTime,expression:"modifiedTime"}],staticClass:"form-control",attrs:{id:"id_modifiedTime"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.modifiedTime=e.target.multiple?n:n[0]},t.getFileList]}},t._l(t.mtimes,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)]),n("b-col",{attrs:{cols:"2"}},[n("label",{attrs:{for:"nolines"}},[t._v("No. of Lines")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.noLines,expression:"noLines"}],staticClass:"form-control",attrs:{type:"text",id:"id_nolines",value:"10",size:"5"},domProps:{value:t.noLines},on:{input:function(e){e.target.composing||(t.noLines=e.target.value)}}})]),n("b-col",{attrs:{cols:"2"}},[n("label",{attrs:{for:"nolines"}},[t._v("View Log From")]),n("b-form-radio-group",{attrs:{id:"btn-radios-2",options:t.viewoptions,buttons:"","button-variant":"outline-info",size:"md",name:"radio-btn-outline"},model:{value:t.viewType,callback:function(e){t.viewType=e},expression:"viewType"}})],1)],1),n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"8"}},[n("label",{attrs:{for:"logsPath"}},[t._v("Log File")]),n("b-form-select",{attrs:{options:t.lfs},on:{change:t.getFileSize},model:{value:t.logFile,callback:function(e){t.logFile=e},expression:"logFile"}})],1),n("b-col",{staticClass:"mt-4",attrs:{cols:"2"}},[n("button",{staticClass:"btn btn-success btn-block",on:{click:t.viewFileData}},[t._v("View")])]),n("b-col",{staticClass:"mt-4",attrs:{cols:"2"}},[n("a",{staticClass:"text-decoration-none",attrs:{href:t.logFile},on:{click:function(e){return e.preventDefault(),t.downloadItem(t.logFile)}}},[n("button",{staticClass:"btn btn-danger btn-block",attrs:{disabled:t.isDisabled}},[t._v("Download "),n("b-badge",{attrs:{variant:"light"}},[t._v(t._s(t.filesize)+" KB")])],1)])])],1),n("br"),n("div",{staticClass:"console"},[n("div",{staticClass:"consolebody"},[n("pre",[t._v(t._s(t.fileData))])])])],1)},i=[],a=n("bc3a"),l=n.n(a),r=n("df7c"),s={data:function(){return{fileData:null,filesize:null,logsPath:null,extension:null,modifiedTime:null,logFile:null,noLines:10,viewType:"tail",lps:[],extns:[],mtimes:[],lfs:[],viewoptions:[{text:"Head",value:"head"},{text:"Tail",value:"tail"}]}},mounted:function(){var t=this;l.a.post("getfolderlistextn").then(function(e){t.lps=e.data.logspaths,t.extns=e.data.extn,t.mtimes=e.data.mtimes}).catch(function(t){console.log(t)})},computed:{isDisabled:function(){return this.filesize>10240}},methods:{downloadItem:function(t){l()({url:t,method:"GET",responseType:"blob"}).then(function(e){var n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=n;var i=r.basename(t);o.setAttribute("download",i),document.body.appendChild(o),o.click()})},viewFileData:function(){var t=this,e=new FormData;e.append("filename",t.logFile),e.append("numberoflines",t.noLines),e.append("viewtype",t.viewType),l.a.post("getfiledata",e).then(function(e){t.fileData=e.data.filedata}).catch(function(t){console.log(t)})},getFileSize:function(){var t=this,e=new FormData;e.append("filenamewithpath",t.logFile),l.a.post("getfilesize",e).then(function(e){t.filesize=e.data.filesize}).catch(function(t){console.log(t)})},getFileList:function(){var t=this,e=new FormData;e.append("folderpath",t.logsPath),e.append("extn",t.extension),l.a.post("getfilelist",e).then(function(e){t.lfs=e.data.files}).catch(function(t){console.log(t)})}}},c=s,u=(n("e6d1"),n("2877")),f=Object(u["a"])(c,o,i,!1,null,"3972b21a",null);e["default"]=f.exports},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,o=t.length-1;o>=0;o--){var i=t[o];"."===i?t.splice(o,1):".."===i?(t.splice(o,1),n++):n&&(t.splice(o,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};function a(t,e){if(t.filter)return t.filter(e);for(var n=[],o=0;o<t.length;o++)e(t[o],o,t)&&n.push(t[o]);return n}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var l=i>=0?arguments[i]:t.cwd();if("string"!==typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(e=l+"/"+e,o="/"===l.charAt(0))}return e=n(a(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),i="/"===l(t,-1);return t=n(a(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(a(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function o(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=o(t.split("/")),a=o(n.split("/")),l=Math.min(i.length,a.length),r=l,s=0;s<l;s++)if(i[s]!==a[s]){r=s;break}var c=[];for(s=r;s<i.length;s++)c.push("..");return c=c.concat(a.slice(r)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],o=e[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var l="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("f28c"))},e6d1:function(t,e,n){"use strict";var o=n("0537"),i=n.n(o);i.a}}]);